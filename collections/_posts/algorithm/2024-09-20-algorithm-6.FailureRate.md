---
layout: post
title: "6. Failure rate"
date: 2024-09-20
authors: ["Jay Tak"]
categories: ["Development", "Algorithm"]
description: ë„ë‹¬í•œ ì‚¬ìš©ì ìˆ˜ì™€ ì‹¤íŒ¨ìœ¨ì„ ì •í™•í•˜ê²Œ ê³„ì‚°í•˜ê³ , ì´ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì •ë ¬í•˜ì—¬ ì˜¬ë°”ë¥¸ ìˆœì„œë¡œ ìŠ¤í…Œì´ì§€ë¥¼ ë°˜í™˜
thumbnail: "/assets/images/gen/blog/algorithm.webp"
# image: "/assets/images/gen/blog/algorithm/algorithm_6.webp"
comments: false
subscribe: false


---

{% include framework/shortcodes/figure.html src="/assets/images/gen/content/algorithm/algorithm_6.webp" title="06. failure rate" caption="Sunhyup Lee. (2024). To be a successful candidate for the coding test. goldenrabbit. p.125." alt="algorithm test" link="" target="" %}

<br>

## Problem solving 

### ì…ë ¥ì¡°ê±´:

1. #### N: ìŠ¤í…Œì´ì§€ì˜ ìˆ˜

2. #### stages: ê° ì‚¬ìš©ìê°€ ë„ì „ ì¤‘ì¸ ìŠ¤í…Œì´ì§€ ë²ˆí˜¸ê°€ ë‹´ê¸´ ë°°ì—´

ì˜ˆë¥¼ ë“¤ì–´, stages = [2, 1, 2, 6, 2, 4, 3, 3] ì€ 8ëª…ì˜ ì‚¬ìš©ìê°€ ê°ê¸° ë‹¤ë¥¸ ìŠ¤í…Œì´ì§€ì— ë„ì „ ì¤‘ì´ë¼ëŠ” ì˜ë¯¸

3. #### ê° ìŠ¤í…Œì´ì§€ëŠ” 1ë²ˆë¶€í„° Në²ˆê¹Œì§€ ìˆê³ , N+1ë²ˆ ìŠ¤í…Œì´ì§€ì— ìˆëŠ” ì‚¬ìš©ìë“¤ì€ ëª¨ë“  ìŠ¤í…Œì´ì§€ë¥¼ í´ë¦¬ì–´ í•œ ì‚¬ìš©ìì´ë‹¤.

<br>

### ì‹¤íŒ¨ìœ¨ ì •ì˜:

- ì‹¤íŒ¨ìœ¨ì€ íŠ¹ì • ìŠ¤í…Œì´ì§€ì— ë„ë‹¬í–ˆìœ¼ë‚˜ í´ë¦¬ì–´í•˜ì§€ ëª»í•œ ì‚¬ìš©ì ìˆ˜ë¥¼, ê·¸ ìŠ¤í…Œì´ì§€ì— ë„ë‹¬í•œ ì´ ì‚¬ìš©ì ìˆ˜ë¡œ ë‚˜ëˆˆ ê°’ì…ë‹ˆë‹¤.

- ì‹¤íŒ¨ìœ¨ì´ ë†’ì€ ìŠ¤í…Œì´ì§€ë¶€í„° ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ìŠ¤í…Œì´ì§€ ë²ˆí˜¸ë¥¼ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.

<br>

### ì…ì¶œë ¥ ì˜ˆì‹œ:

1)  N = 5, stages = [2, 1, 2, 6, 2, 4, 3, 3]
    - ì´ ê²½ìš°, ê° ìŠ¤í…Œì´ì§€ì˜ ì‹¤íŒ¨ìœ¨ì„ ê³„ì‚°í•œ ìˆ˜ ê²°ê³¼ëŠ” [3, 4, 2, 1, 5] ì´ë‹¤.

2. N = 4, stages = [4, 4, 4, 4, 4]
   - ì´ ê²½ìš°, ê²°ê³¼ëŠ” [4, 1, 2, 3]ì´ë‹¤.

### í•´ê²° ê³¼ì • ì˜ˆì‹œ:

1. ìŠ¤í…Œì´ì§€1: 8ëª… ì¤‘ 1ëª… ì‹¤íŒ¨ â†’ ì‹¤íŒ¨ìœ¨ = 1/8
2. ìŠ¤í…Œì´ì§€2: 7ëª… ì¤‘ 3ëª… ì‹¤íŒ¨ â†’ ì‹¤íŒ¨ìœ¨ = 3/7
3. ìŠ¤í…Œì´ì§€3: 4ëª… ì¤‘ 2ëª… ì‹¤íŒ¨ â†’ ì‹¤íŒ¨ìœ¨ = 2/4
4. ìŠ¤í…Œì´ì§€4: 2ëª… ì¤‘ 1ëª… ì‹¤íŒ¨ â†’ ì‹¤íŒ¨ìœ¨ = 1/2
5. ìŠ¤í…Œì´ì§€5: 0ëª… â†’ ì‹¤íŒ¨ìœ¨ = 0/1

ê²°ê³¼ì ìœ¼ë¡œ ì‹¤íŒ¨ìœ¨ì´ ë†’ì€ ìˆœì„œëŒ€ë¡œ ìŠ¤í…Œì´ì§€ë¥¼ ì •ë ¬í•˜ë©´ [3, 4, 2, 1, 5]ê°€ ëœë‹¤.

<br>

### â‘  The first way to solve the problem :  [ë‹¨ê³„ë³„ ì‚¬ìš©ì ìˆ˜ ê³„ì‚° í›„, ì§ì ‘ ì‹¤íŒ¨ìœ¨ ê³„ì‚°](#) 

```javascript
function solution(N, stages) {
	// N: ìŠ¤í…Œì´ì§€ì˜ ìˆ˜, stages: ê° ì‚¬ìš©ìê°€ ë„ì „ì¤‘ì¸ ìŠ¤í…Œì´ì§€ ë²ˆí˜¸ê°€ ë‹´ê¸´ ë°°ì—´

    let failureRates = [];
    // filureRates: ê° ìŠ¤í…Œì´ì§€ì˜ ë²ˆí—ˆì™€ ì‹¤íŒ¨ìœ¨ì„ ì €ì¥í•  ë°°ì—´
    
    let totalUsers = stages.length;
  	// totalUsers: ë‚¨ì€ ì‚¬ìš©ìì˜ ìˆ˜, ì´ˆê¸°ê°’ì€ ë„ì „ ì¤‘ì¸ ì‚¬ìš©ìë“¤ì˜ ì „ì²´ìˆ˜(stage.length)

    for (let stage = 1; stage <= N; stage++) {

        let failedUsers = stages.filter(s => s === stage).length;
        // í•´ë‹¹ ìŠ¤í…Œì´ì§€ì— ë„ì „ ì¤‘ì¸ ì‚¬ìš©ì ìˆ˜
     
        let failureRate = totalUsers === 0 ? 0 : failedUsers / totalUsers;
				// ìŠ¤í…Œì´ì§€ì— ë„ë‹¬í•œ ì‚¬ìš©ìê°€ ì—†ì„ ê²½ìš° ì‹¤íŒ¨ìœ¨ 0

        failureRates.push({ stage: stage, rate: failureRate });
        // ì‹¤íŒ¨ìœ¨ ë°°ì—´ì— (ìŠ¤í…Œì´ì§€ ë²ˆí˜¸, ì‹¤íŒ¨ìœ¨) ì €ì¥
      
        totalUsers -= failedUsers;
        // ë‹¤ìŒ ìŠ¤í…Œì´ì§€ë¡œ ë„˜ì–´ê°€ë¯€ë¡œ ë„ì „í•œ ì‚¬ìš©ìë¥¼ ëºŒ
    }

    failureRates.sort((a, b) => {
        // ì‹¤íŒ¨ìœ¨ì„ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬, ì‹¤íŒ¨ìœ¨ì´ ê°™ìœ¼ë©´ ìŠ¤í…Œì´ì§€ ë²ˆí˜¸ ìˆœìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
        if (b.rate === a.rate) {
            return a.stage - b.stage;  // ì‹¤íŒ¨ìœ¨ì´ ê°™ìœ¼ë©´ ìŠ¤í…Œì´ì§€ ë²ˆí˜¸ ê¸°ì¤€ ì˜¤ë¦„ì°¨ìˆœ
        }
        return b.rate - a.rate;  // ì‹¤íŒ¨ìœ¨ ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœ
    });

    return failureRates.map(item => item.stage);
        // ì •ë ¬ëœ ìŠ¤í…Œì´ì§€ ë²ˆí˜¸ë§Œ ë°˜í™˜
}

// ì˜ˆì‹œ ì‹¤í–‰
let N = 5;
let stages = [2, 1, 2, 6, 2, 4, 3, 3];
console.log(solution(N, stages));  // ì¶œë ¥: [3, 4, 2, 1, 5]

```

ğŸ§ [ì‹œê°„ë³µì¡ë„](#)ëŠ” ì–´ë–¨ê¹Œ?  

```javascript
[Done] exited with code=0 in 0.063 seconds
```

<span style="color: #ffff">1. ì‚¬ìš©ì ìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ë‹¨ê³„:</span> <span style="color: #ffff">O(M<sup></sup>)</span> <br>

```javascript
// stage ë°°ì—´ì„ í•œ ë²ˆ ìˆœíšŒí•˜ë©°, ê° ì‚¬ìš©ìê°€ ë„ì „ ì¤‘ì¸ ìŠ¤í…Œì´ì§€ë¥¼ ì¹´ìš´íŠ¸í•œë‹¤. 
stages.forEach(stage => {
    stageCounts[stage]++;
});
```

<span style="color: #ffff">2. ì‹¤íŒ¨ìœ¨ì„ ê³„ì‚°í•˜ëŠ” Â ë‹¨ê³„:</span> <span style="color: #ffff">O(N<sup></sup>)</span> <br>

```javascript
// 1ë²ˆë¶€í„° Në²ˆê¹Œì§€ì˜ ê° ìŠ¤í…Œì´ì§€ì— ëŒ€í•´ ë„ì „í•œ ì‚¬ìš©ì ìˆ˜ì™€ ì‹¤íŒ¨ìœ¨ì„ ê³„ì‚°
for (let stage = 1; stage <= N; stage++) {
    let failedUsers = stageCounts[stage];
    let failureRate = 0;
    
    if (totalUsers > 0) {
        failureRate = failedUsers / totalUsers;
    }

    failureRates.push({ stage: stage, rate: failureRate });

    totalUsers -= failedUsers;
}
```

<span style="color: #ffff">3. ì •ë ¬ Â ë‹¨ê³„:</span> <span style="color: #ffff">O(N logN<sup></sup>)</span> <br>

```javascript
// ì´ ë‹¨ê³„ì—ì„œëŠ” ì‹¤íŒ¨ìœ¨ì„ ê¸°ì¤€ìœ¼ë¡œ ìŠ¤í…Œì´ì§€ë¥¼ ì •ë ¬
failureRates.sort((a, b) => {
    if (b.rate === a.rate) {
        return a.stage - b.stage;
    }
    return b.rate - a.rate;
});
```

<span style="color: #ffff">4. ê²°ê³¼ ë°°ì—´ ìƒì„± ë‹¨ê³„:</span> <span style="color: #ffff">O(N<sup></sup>)</span> <br>

```javascript
// ì •ë ¬ëœ failureRates ë°°ì—´ì—ì„œ ìŠ¤í…Œì´ì§€ ë²ˆí˜¸ë§Œ ì¶”ì¶œ
return failureRates.map(item => item.stage);
```

<span style="color: #ffff">ìµœì¢… ì‹œê°„ ë³µì¡ë„:</span> <span style="color: #ffff">O(N + N logN<sup></sup>)</span> 

<br><br>

### â‘¡ The second way to solve the problem :  [ë§µ(Map)ì„ ì‚¬ìš©í•˜ì—¬ ì‹¤íŒ¨ìœ¨ ê³„ì‚°](#) 

```javascript
function solution(N, stages) {
    let stageCounts = new Map();
    
    stages.forEach(stage => {
        if (stageCounts.has(stage)) {
            stageCounts.set(stage, stageCounts.get(stage) + 1);
        } else {
            stageCounts.set(stage, 1);
        }
    });

    let totalUsers = stages.length;
    let failureRates = [];

    for (let stage = 1; stage <= N; stage++) {
        let failedUsers = stageCounts.get(stage) || 0;
        let failureRate = 0;
        
        if (totalUsers > 0) {
            failureRate = failedUsers / totalUsers;
        }

        failureRates.push({ stage: stage, rate: failureRate });

        totalUsers -= failedUsers;
    }

    failureRates.sort((a, b) => {
        if (b.rate === a.rate) {
            return a.stage - b.stage;
        }
        return b.rate - a.rate;
    });

    return failureRates.map(item => item.stage);
}

// ì˜ˆì‹œ ì‹¤í–‰
let N = 5;
let stages = [2, 1, 2, 6, 2, 4, 3, 3];
console.log(solution(N, stages));  // ì¶œë ¥: [3, 4, 2, 1, 5]

```

ğŸ§ [ì‹œê°„ë³µì¡ë„](#)ëŠ” ì–´ë–¨ê¹Œ?

```javascript
[Done] exited with code=0 in 0.064 seconds
```

<span style="color: #ffff">1. ê° ìŠ¤í…Œì´ì§€ì— ë„ë‹¬í•œ ì‚¬ìš©ì ìˆ˜ ë‹¨ê³„:</span> <span style="color: #ffff">O(M<sup></sup>)</span> 

```javascript
// stages ë°°ì—´ì„ ìˆœíšŒí•˜ë©° ê° ì‚¬ìš©ìê°€ ë„ì „ ì¤‘ì¸ ìŠ¤í…Œì´ì§€ ë²ˆí˜¸ë¥¼ Mapê°ì²´ì— ì €ì¥
stages.forEach(stage => {
    if (stageCounts.has(stage)) {
        stageCounts.set(stage, stageCounts.get(stage) + 1);
    } else {
        stageCounts.set(stage, 1);
    }
});
```

<span style="color: #ffff">2. ì‹¤íŒ¨ìœ¨ ê³„ì‚° ë‹¨ê³„:</span> <span style="color: #ffff">O(N<sup></sup>)</span> 

```javascript
// 1ë²ˆë¶€í„° Në²ˆê¹Œì§€ì˜ ê° ìŠ¤í…Œì´ì§€ì— ëŒ€í•´ ì‹¤íŒ¨ìœ¨ì„ ê³„ì‚°í•˜ê³ , failureRates ë°°ì—´ì— ì €ì¥
for (let stage = 1; stage <= N; stage++) {
    let failedUsers = stageCounts.get(stage) || 0;
    let failureRate = 0;
    
    if (totalUsers > 0) {
        failureRate = failedUsers / totalUsers;
    }

    failureRates.push({ stage: stage, rate: failureRate });

    totalUsers -= failedUsers;
}
```

<span style="color: #ffff">3. ì‹¤íŒ¨ìœ¨ì„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ ë‹¨ê³„:</span> <span style="color: #ffff">O(N logN<sup></sup>)</span> 

```javascript
// ì‹¤íŒ¨ìœ¨ì„ ê¸°ì¤€ìœ¼ë¡œ failureRates ë°°ì—´ì„ ì •ë ¬
failureRates.sort((a, b) => {
    if (b.rate === a.rate) {
        return a.stage - b.stage;
    }
    return b.rate - a.rate;
});
```

<span style="color: #ffff">4. ê²°ê³¼ ë°°ì—´ ìƒì„±:</span> <span style="color: #ffff">O(N<sup></sup>)</span> 

```javascript
// ì •ë ¬ëœ failureRate ë°°ì—´ì—ì„œ ìŠ¤í…Œì´ì§€ ë²ˆí˜¸ë§Œ ì¶”ì¶œí•˜ì—¬ ìƒˆë¡œìš´ ë°°ì—´ ìƒì„±
return failureRates.map(item => item.stage);
```

<span style="color: #ffff">ìµœì¢… ì‹œê°„ ë³µì¡ë„:</span> <span style="color: #ffff">O(N + N logN<sup></sup>)</span> 

<br><br>

### â‘¢ The third way to solve the problem :  [ë°°ì—´ì˜ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•œ ì§ì ‘ ê³„ì‚°](#) 

```javascript
function solution(N, stages) {
    let stageUsers = new Array(N + 1).fill(0);
    
    // ê° ìŠ¤í…Œì´ì§€ì— ë„ë‹¬í•œ ì‚¬ìš©ì ìˆ˜ ì¹´ìš´íŠ¸
    stages.forEach(stage => {
        if (stage <= N) {
            stageUsers[stage]++;
        }
    });

    let totalUsers = stages.length;
    let failureRates = [];

    for (let i = 1; i <= N; i++) {
        if (totalUsers > 0) {
            let failureRate = stageUsers[i] / totalUsers;
            failureRates.push({ stage: i, rate: failureRate });
            totalUsers -= stageUsers[i];
        } else {
            failureRates.push({ stage: i, rate: 0 });
        }
    }

    failureRates.sort((a, b) => b.rate - a.rate || a.stage - b.stage);

    return failureRates.map(x => x.stage);
}

// ì˜ˆì‹œ ì‹¤í–‰
let N = 5;
let stages = [2, 1, 2, 6, 2, 4, 3, 3];
console.log(solution(N, stages));  // ì¶œë ¥: [3, 4, 2, 1, 5]

```

ğŸ§ [ì‹œê°„ë³µì¡ë„](#)ëŠ” ì–´ë–¨ê¹Œ?

```javascript
[Done] exited with code=0 in 0.072 seconds
```

<span style="color: #ffff">1. ê° ìŠ¤í…Œì´ì§€ì— ë„ë‹¬í•œ ì‚¬ìš©ì ìˆ˜ ë‹¨ê³„:</span> <span style="color: #ffff">O(M<sup></sup>)</span> 

```javascript
// stages ë°°ì—´ì„ ìˆœíšŒí•˜ë©° ê° ì‚¬ìš©ìê°€ ë„ì „ ì¤‘ì¸ ìŠ¤í…Œì´ì§€ ë²ˆí˜¸ë¥¼ ì¹´ìš´íŠ¸í•˜ì—¬ stageUsers ë°°ì—´ì— ì €ì¥
stages.forEach(stage => {
    if (stage <= N) {
        stageUsers[stage]++;
    }
});
```

<span style="color: #ffff">2. ì‹¤íŒ¨ìœ¨ ê³„ì‚° ë‹¨ê³„:</span> <span style="color: #ffff">O(N<sup></sup>)</span> 

```javascript
// 1ë²ˆë¶€í„° Në²ˆê¹Œì§€ì˜ ê° ìŠ¤í…Œì´ì§€ì— ëŒ€í•´ ì‹¤íŒ¨ìœ¨ì„ ê²Œì‚°í•˜ê³ , failureRate ë°°ì—´ì— ì €ì¥
for (let i = 1; i <= N; i++) {
    if (totalUsers > 0) {
        let failureRate = stageUsers[i] / totalUsers;
        failureRates.push({ stage: i, rate: failureRate });
        totalUsers -= stageUsers[i];
    } else {
        failureRates.push({ stage: i, rate: 0 });
    }
}
```

<span style="color: #ffff">3. ì‹¤íŒ¨ìœ¨ì„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ ë‹¨ê³„:</span> <span style="color: #ffff">O(N logN<sup></sup>)</span> 

```javascript
// ì‹¤íŒ¨ìœ¨ì„ ê¸°ì¤€ìœ¼ë¡œ failureRates ë°°ì—´ì— ì •ë ¬
failureRates.sort((a, b) => b.rate - a.rate || a.stage - b.stage);
```

<span style="color: #ffff">4. ê²°ê³¼ë°°ì—´ ì •ë ¬ ë‹¨ê³„:</span> <span style="color: #ffff">O(N logN<sup></sup>)</span> 

```javascript
// ì •ë ¬ëœ failureRates ë°°ì—´ì—ì„œ ìŠ¤í…Œì´ì§€ ë²ˆí˜¸ë§Œ ì¶”ì¶œí•˜ì—¬ ìƒˆë¡œìš´ ë°°ì—´ì„ ìƒì„±
return failureRates.map(x => x.stage);
```

<span style="color: #ffff">ìµœì¢… ì‹œê°„ ë³µì¡ë„:</span> <span style="color: #ffff">O(N + N logN<sup></sup>)</span> 

<br><br>