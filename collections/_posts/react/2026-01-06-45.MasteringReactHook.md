---
layout: post
title: "3. Mastering React Hooks"
date: 2026-01-07
authors: ["Jay Tak"]
categories: ["Development", "React"]
description: ë¦¬ì•¡íŠ¸ í›…ì€ â€œAPI ì‚¬ìš©ë²•â€ì´ ì•„ë‹ˆë¼, í´ë¡œì €Â·ì°¸ì¡° ë¹„êµÂ·í•¨ìˆ˜ ì¬ì‹¤í–‰ì´ë¼ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì›ë¦¬ ìœ„ì—ì„œ ë Œë”ë§ê³¼ ë¶€ìˆ˜íš¨ê³¼ë¥¼ ì˜ë„ì ìœ¼ë¡œ ì œì–´í•˜ê¸° ìœ„í•œ ì„¤ê³„ ë„êµ¬
thumbnail: "/assets/images/gen/blog/react.webp"
comments: false
subscribe: false
---

---

## 1. ë¦¬ì•¡íŠ¸ì˜ ëª¨ë“  í›… íŒŒí—¤ì¹˜ê¸°

### 1.1  useState: ìƒíƒœ ê´€ë¦¬ì˜ ë¹„ë°€ê³¼ í´ë¡œì €

`useState`ëŠ” í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒíƒœë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ í›…ì…ë‹ˆë‹¤.  í•˜ì§€ë§Œ ë‹¨ìˆœíˆ â€œê°’ì„ ì €ì¥í•˜ëŠ” ë³€ìˆ˜â€ë¡œ ì´í•´í•˜ë©´ ë¦¬ì•¡íŠ¸ì˜ ë Œë”ë§ ëª¨ë¸ì„ ì˜¤í•´í•˜ê²Œ ë©ë‹ˆë‹¤.

ğŸ§ Q. ì™œ ì¼ë°˜ ë³€ìˆ˜ëŠ” ì•ˆ ë ê¹Œ? <br>

í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ëŠ” **ë Œë”ë§ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ í•¨ìˆ˜ ìì²´ê°€ ë‹¤ì‹œ ì‹¤í–‰**ë©ë‹ˆë‹¤.  ì¦‰, í•¨ìˆ˜ ë‚´ë¶€ì˜ `let`, `const` ë³€ìˆ˜ëŠ” ë§¤ë²ˆ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.

```ts
function Component() {
  let state = 'hello'
  // ë Œë”ë§ì´ ë‹¤ì‹œ ë˜ë©´ stateëŠ” í•­ìƒ 'hello'
}

```

useStateì˜ ìƒíƒœëŠ” ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ ì•ˆì— ì €ì¥ë˜ì§€ ì•Šê³ ,  ë¦¬ì•¡íŠ¸ ë‚´ë¶€ì— ë”°ë¡œ ë³´ê´€ë©ë‹ˆë‹¤.

```txt
ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜
 â”œâ”€ count: í˜„ì¬ ë Œë”ì—ì„œ ë³´ì—¬ì¤„ ê°’
 â””â”€ setCount: ë¦¬ì•¡íŠ¸ ë‚´ë¶€ ìƒíƒœë¥¼ ê°€ë¦¬í‚¤ëŠ” í•¨ìˆ˜

```



**useStateê°€ ìƒíƒœë¥¼ ê¸°ì–µí•˜ëŠ” ë°©ë²•**

ë¦¬ì•¡íŠ¸ëŠ” **í´ë¡œì €(Closure)** ë¥¼ í™œìš©í•´ ìƒíƒœë¥¼ ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€(ë¦¬ì•¡íŠ¸ ë‚´ë¶€)ì— ì €ì¥í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  `setState`ëŠ” ì´ ì™¸ë¶€ ì €ì¥ì†Œë¥¼ ì°¸ì¡°í•˜ëŠ” í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤. ë•ë¶„ì— ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ì–´ë„, ì´ì „ ìƒíƒœë¥¼ â€œê¸°ì–µâ€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `useState`ì— **ê°’ì´ ì•„ë‹ˆë¼ í•¨ìˆ˜**ë¥¼ ë„˜ê¸°ë©´,  ê·¸ í•¨ìˆ˜ëŠ” **ìµœì´ˆ ë Œë”ë§ ì‹œ ë‹¨ í•œ ë²ˆë§Œ ì‹¤í–‰**ë©ë‹ˆë‹¤.

```ts
const [count, setCount] = useState(() => {
  return Number(localStorage.getItem('count'))
})

```

<br>

### 1.2 useEffect: ìƒëª…ì£¼ê¸°ê°€ ì•„ë‹Œ ë¶€ìˆ˜ íš¨ê³¼

`useEffect`ëŠ”  **â€œë Œë”ë§ ê²°ê³¼ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ë§Œë“œëŠ” ë„êµ¬â€**ì…ë‹ˆë‹¤.

**í•µì‹¬ ê°œë…: ë Œë”ë§ ì´í›„ ì‹¤í–‰** (ì¦‰, ë Œë”ë§ ê³¼ì •ì— ì§ì ‘ ê°œì…í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.)

- ë Œë”ë§ â†’ í™”ë©´ ë°˜ì˜
- **ê·¸ ë‹¤ìŒ** `useEffect` ì‹¤í–‰

#### 1.2.1 ì˜ì¡´ì„± ë°°ì—´ì˜ ì§„ì§œ ì˜ë¯¸

ì˜ì¡´ì„± ë°°ì—´ì€  **â€œì´ ê°’ë“¤ì´ ë°”ë€Œë©´, ì´ effectëŠ” ë” ì´ìƒ ìœ íš¨í•˜ì§€ ì•Šë‹¤â€**ëŠ” ì„ ì–¸ì…ë‹ˆë‹¤.

````ts
useEffect(() => {
  // side effect
}, [a, b])

````

ë¦¬ì•¡íŠ¸ëŠ” ì˜ì¡´ì„± ë°°ì—´ì„ **Object.is ê¸°ë°˜ì˜ ì–•ì€ ë¹„êµ**ë¡œ ê²€ì‚¬í•©ë‹ˆë‹¤.

- `a` ë˜ëŠ” `b` ì¤‘ í•˜ë‚˜ë¼ë„ ì´ì „ê³¼ ë‹¤ë¥´ë©´ effect ì¬ì‹¤í–‰
- ê°ì²´, ë°°ì—´ì€ **ë‚´ìš©ì´ ì•„ë‹ˆë¼ ì°¸ì¡°**ë¡œ ë¹„êµ
  - ìƒˆ ê°ì²´ â†’ ê°’ì´ ê°™ì•„ë„ â€œë³€ê²½ë¨â€ìœ¼ë¡œ íŒë‹¨

#### 1.2.2 í´ë¦°ì—…(Cleanup) í•¨ìˆ˜ì˜ ì •í™•í•œ ì—­í• 

ë‹¤ìŒ effectê°€ ì‹¤í–‰ë˜ê¸° ì§ì „ì—,  ì´ì „ effectë¥¼ ì •ë¦¬í•˜ëŠ” í•¨ìˆ˜

(1) ë Œë”ë§ A â†’ effect A ì‹¤í–‰

(2) ìƒíƒœ ë³€ê²½ â†’ ë Œë”ë§ B

(3) **effect B ì‹¤í–‰ ì „ì— effect Aì˜ cleanup ì‹¤í–‰**

(4) effect B ì‹¤í–‰

<br>

### 1.3 useMemoì™€ useCallback: ë©”ëª¨ì´ì œì´ì…˜ì˜ ë³¸ì§ˆ

#### useMemo

- **ê³„ì‚° ê²°ê³¼**ë¥¼ ê¸°ì–µ
- ì˜ì¡´ì„±ì´ ë°”ë€Œì§€ ì•Šìœ¼ë©´ ì´ì „ ê²°ê³¼ ì¬ì‚¬ìš©

```ts
const value = useMemo(() => expensiveCalc(a, b), [a, b])

```

#### useCallback

- **í•¨ìˆ˜ ìì²´**ë¥¼ ê¸°ì–µ
- ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œ í•¨ìˆ˜ ì „ë‹¬ ì‹œ ìœ ìš©

```ts
const onClick = useCallback(() => {
  doSomething()
}, [])

```

<br>

### 1.4 useRef: ë Œë”ë§ê³¼ ë¬´ê´€í•œ ê°’

`useRef`ëŠ” ê°’ì´ ë°”ë€Œì–´ë„ **ë Œë”ë§ì„ ë°œìƒì‹œí‚¤ì§€ ì•ŠìŠµë‹ˆë‹¤**.

- DOM ì§ì ‘ ì ‘ê·¼
- ì´ì „ ê°’ ì €ì¥
- íƒ€ì´ë¨¸ ID, AbortController ë“±

```ts
const timerRef = useRef<number | null>(null)
// ìƒíƒœ(state)ê°€ ì•„ë‹ˆë¼ â€œê·¸ëƒ¥ ë³´ê´€ìš© ìƒìâ€ë¼ê³  ìƒê°í•˜ë©´ ì´í•´ê°€ ì‰½ìŠµë‹ˆë‹¤.
```

<br>

### 1.5 useContext: Prop Drilling í•´ê²°ì˜ ëŒ€ê°€

(1) **Prop Drilling ë¬¸ì œ**_ Cì—ì„œ ê°’ì„ ì“°ê¸° ìœ„í•´ A, BëŠ” **í•„ìš”ë„ ì—†ëŠ” propsë¥¼ ì „ë‹¬ë§Œ í•¨

```markdown
App
 â””â”€ A
    â””â”€ B
       â””â”€ C (ê°’ í•„ìš”)
```

(2) **useContextë¡œ í•´ê²°**

```ts
// ëŒ€ì•ˆ â‘  Context + React.memo
// ğŸ‘‰ â€œí•„ìš” ì—†ëŠ” ë¦¬ë Œë”ë§ì´ ë” ë‚´ë ¤ê°€ì§€ ì•Šê²Œ ë§‰ìâ€
const Profile = React.memo(function Profile({ user }) {
  return <Avatar name={user.name} />
})

function Parent() {
  const user = useContext(UserContext)

  return <Profile user={user} />
}

// ParentëŠ” Context ë³€ê²½ ë•Œë¬¸ì— ë‹¤ì‹œ ì‹¤í–‰ë¨ â—
// í•˜ì§€ë§Œ user ì°¸ì¡°ê°€ ê°™ë‹¤ë©´
// Profileì€ ë Œë”ë§ ì•ˆ ë¨
  
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

// ëŒ€ì•ˆ â‘¡ Contextë¥¼ ì—­í• ë³„ë¡œ ë¶„ë¦¬
// ğŸ‘‰ â€œí•œ ê°’ ë°”ë€Œì—ˆë‹¤ê³  ì „ë¶€ í”ë“¤ì§€ ë§ìâ€
<UserContext value={user}>
<ThemeContext value={theme}>

```

<br>

### 1.6 useReducer: ìƒíƒœ ë¡œì§ ë¶„ë¦¬

`useReducer`ëŠ” **ìƒíƒœë¥¼ ì–´ë–»ê²Œ ë°”ê¿€ì§€ì— ëŒ€í•œ ë¡œì§ì„ ì»´í¬ë„ŒíŠ¸ ë°–ìœ¼ë¡œ ë¶„ë¦¬**í•˜ëŠ” í›…ì´ë‹¤.

âŒ useStateë¡œ ìƒíƒœë¥¼ ì§ì ‘ ê´€ë¦¬í•  ë•Œ

```ts
const [state, setState] = useState({
  loading: false,
  data: null,
  error: null,
})

setState({ ...state, loading: true })
setState({ loading: false, data, error: null })
setState({ loading: false, data: null, error })

```

#### âœ… useReducerë¡œ ìƒíƒœ ë¡œì§ì„ ë¶„ë¦¬í–ˆì„ ë•Œ

```ts
function reducer(state, action) {
  switch (action.type) {
    case 'FETCH_START':
      return { ...state, loading: true }
    case 'FETCH_SUCCESS':
      return { loading: false, data: action.data, error: null }
    case 'FETCH_ERROR':
      return { loading: false, data: null, error: action.error }
  }
}

const [state, dispatch] = useReducer(reducer, initialState)

dispatch({ type: 'FETCH_START' })
dispatch({ type: 'FETCH_SUCCESS', data })
dispatch({ type: 'FETCH_ERROR', error })

```

<br>

### 1.7 ê¸°íƒ€ ê³ ê¸‰ í›…

- **useImperativeHandle**
   â†’ refë¡œ ë…¸ì¶œí•  ì¸í„°í˜ì´ìŠ¤ ì œì–´
- **useLayoutEffect**
   â†’ DOM ë³€ê²½ ì§í›„, í˜ì¸íŒ… ì´ì „ ì‹¤í–‰
- **useDebugValue**
   â†’ Custom Hook ë””ë²„ê¹…ìš©

<br>

<hr style="border: 1px dashed #ccc;">
## 2. ì‚¬ìš©ì ì •ì˜ í›…ê³¼ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸

### 2.1 ì‚¬ìš©ì ì •ì˜ í›… (Custom Hook)

> **â€œìƒíƒœ + effect ë¡œì§ì˜ ì¬ì‚¬ìš©â€**

- ë°˜ë“œì‹œ `use`ë¡œ ì‹œì‘
- ë Œë”ë§ ê²°ê³¼ì—ëŠ” ì§ì ‘ ì˜í–¥ ì—†ìŒ
- ë¡œì§ ê³µìœ ì— ìµœì 

âœ”ï¸ ê°€ì¥ ê¶Œì¥ë˜ëŠ” ë°©ì‹

<br>

### 2.2 ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ (HOC)

> **â€œì»´í¬ë„ŒíŠ¸ë¥¼ ê°ì‹¸ì„œ ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ ìƒì„±â€**

- ëŒ€í‘œ ì˜ˆ: `React.memo`
- `withSomething` ë„¤ì´ë° ê´€ë¡€
- ë Œë”ë§ êµ¬ì¡°ì— ì§ì ‘ ê°œì…



### <br><br>

#### <span style="color:grey">reference: ëª¨ë˜ë¦¬ì•¡íŠ¸ Deep Dive 3ì¥. ë¦¬ì•¡íŠ¸ í›… ê¹Šê²Œ ì‚´í´ë³´ê¸°</span>
