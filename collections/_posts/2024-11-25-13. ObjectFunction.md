---
layout: post
title: "13. Creating objects by constructor functions"
date: 2024-11-25
authors: ["Jay Tak"]
categories: ["Development", "Javascript"]
description: ê°ì²´ë¦¬í„°ëŸ´ ì™¸ì˜ ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ ê°ì²´ ìƒì„±ë°©ì‹ë¥¼ ì´í•´í•´ë³´ì
thumbnail: "/assets/images/gen/blog/javascript.webp"
comments: false
subscribe: false
---

---

## 1. Object ìƒì„±ì í•¨ìˆ˜

`new` ì—°ì‚°ìì™€ í•¨ê»˜ `Object` ìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ë¹ˆ ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜í•œë‹¤. <br>

ë¹ˆ ê°ì²´ë¥¼ ìƒì„±í•œ ì´í›„ <span style = "color: white;">**í”„ë¡œí¼í‹°**</span> ë˜ëŠ” <span style = "color: white;">**ë©”ì„œë“œ**</span>ë¥¼ ì¶”ê°€í•˜ì—¬ ê°ì²´ë¥¼ ì™„ì„±í•  ìˆ˜ ìˆë‹¤. <br>

ìƒì„±ì í•¨ìˆ˜(constructor)ë€ `new`ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œí•˜ì—¬ ê°ì²´(ì¸ìŠ¤í„´ìŠ¤)ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§í•œë‹¤. ìƒì„±ì í•¨ìˆ˜ì— ì˜í•´ ìƒì„±ëœ ê°ì²´ë¥¼ ì¸ìŠ¤í„´ìŠ¤(instance)ë¼ í•œë‹¤.

```javascript
// ë¹ˆ ê°ì²´ì˜ ìƒì„±
const person = new Object();

// í”„ë¡œí¼í‹° ì¶”ê°€
person.name = 'Lee';
person.sayHello = function() {
  console.log('Hi! My name is' + this.name);
};

console.log(person); {name: "Lee", sayHello: f}
person.sayHello(); // Hi! My name is Lee

```

<br>

<hr style="border: 1px dashed #ccc;">

## 2. ìƒì„±ì í•¨ìˆ˜

### 2.1 ìƒì„±ì í•¨ìˆ˜ì˜ ì¥ì 

ğŸ¤“ Q. `Object` ìƒì„±ì í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë°©ì‹ì€ ìœ ìš©í•˜ë‹¤ê³  ë³¼ ìˆ˜ ìˆëŠ”ê°€?

<span style="color:#e74c3c">**Problem.**</span> ê°ì²´ ìƒì„± ì‹œ ë§¤ë²ˆ ê°™ì€ í”„ë¡œí¼í‹° ê¸°ìˆ  í•´ì•¼í•˜ëŠ” ë¹„íš¨ìœ¨ì„±

```javascript
const circle1 = {
  radius: 5,
  getDiameter() {
    return 2 * this.radius;
  },
};

console.log(circle1.getDiameter()); // 10

const circle2 = {
  radius: 10,
  getDiameter() {
    return 2 * this.radius;
  },
};

console.log(circle2.getDiameter()); // 20
```

<br>

<span style="color:#3498db">**Advantage.**</span> ê°ì²´ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ íƒ¬í”Œë¦¿ì²˜ëŸ¼ ë™ì¼í•œ ê°ì²´ ìƒì„±

```javascript
// ìƒì„±ì í•¨ìˆ˜
function Circle(radius) {
  this.radius = radius;
  this.getDiameter = function () {
    return 2 * this.radius;
  };
}

// ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒì„±
const circle1 = new Circle(5); // ë°˜ì§€ë¦„ì´ 5ì¸ Circle ê°ì²´ë¥¼ ìƒì„±
const circle2 = new Circle(10); // ë°˜ì§€ë¦„ì´ 10ì¸ Circle ê°ì²´ë¥¼ ìƒì„±

console.log(circle1.getDiameter()); // 10
console.log(circle2.getDiameter()); // 20
```

<br>

### 2.2 ìƒì„±ì í•¨ìˆ˜ì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ê³¼ì •

#### 2.2.1 ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ê³¼ `this` ë°”ì¸ë”©

```javascript
function Circle(radius) {
  // 1. ì•”ë¬µì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ê³  thisì— ë°”ì¸ë”©ëœë‹¤.
  console.log(this); // Circle {}

  this.radius = radius;
  this.getDiameter = function () {
    return 2 * this.radius;
  };
}
```

<br>

#### 2.2.2 ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”

thisì— ë°”ì¸ë”©ë˜ì–´ ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ì— í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ê³  ìƒì„±ì í•¨ìˆ˜ê°€ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ì´ˆê¸°ê°’ì„ ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹°ì— í• ë‹¹í•˜ì—¬ ì´ˆê¸°í™”í•˜ê±°ë‚˜ ê³ ì •ê°’ì„ í• ë‹¹í•œë‹¤.

```javascript
function Circle(radius) {
  // 1. ì•”ë¬µì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ê³  thisì— ë°”ì¸ë”©ëœë‹¤.
  console.log(this); // Circle {}

  // 2. thisì— ë°”ì¸ë”©ë˜ì–´ ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•œë‹¤.
  this.radius = radius;
  this.getDiameter = function () {
    return 2 * this.radius;
  };
}
```

<br>

#### 2.2.3 ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜

```javascript
function Circle(radius) {
  // 1. ì•”ë¬µì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ê³  thisì— ë°”ì¸ë”©ëœë‹¤.
  console.log(this); // Circle {}

  // 2. thisì— ë°”ì¸ë”©ë˜ì–´ ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•œë‹¤.
  this.radius = radius;
  this.getDiameter = function () {
    return 2 * this.radius;
  };
  // 3. ì™„ì„±ëœ ì¸ìŠ¤í„´ìŠ¤ê°€ ë°”ì¸ë”©ëœ thisê°€ ì•”ë¬µì ìœ¼ë¡œ ë°˜í™˜ëœë‹¤.
}

// ì¸ìŠ¤í„´ìŠ¤ ìƒì„±. Circle ìƒì„±ì í•¨ìˆ˜ëŠ” ì•”ë¬µì ìœ¼ë¡œ thisë¥¼ ë°˜í™˜í•œë‹¤.
const circle = new Circle(1);
console.log(circle); // Circle {radius: 1, getDiameter: f}
```

<br>

###### â…°) ë§Œì•½ì— thisê°€ ì•„ë‹Œ ë‹¤ë¥¸ ê°ì²´ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ë°˜í™˜í•˜ë©´ `this`ê°€ ë°˜í™˜ë˜ì§€ ëª»í•˜ê³  `return`ë¬¸ì— ëª…ì‹œí•œ ê°ì²´ê°€ ë°˜í™˜ëœë‹¤.

```javascript
function Circle(radius) {
  console.log(this);

  this.radius = radius;
  this.getDiameter = function () {
    return 2 * getDiameter();
  };
  return {};
}

const circle = new Circle(1);
console.log(circle); // {}
```

###### â…±) ëª…ì‹œì ìœ¼ë¡œ ì›ì‹œê°’ì„ ë°˜í™˜í•˜ë©´ ì›ì‹œ ê°’ ë°˜í™˜ì€ ë¬´ì‹œë˜ê³  ì•”ë¬µì ìœ¼ë¡œ `this`ê°€ ë°˜í™˜ëœë‹¤.

```javascript
function Circle(radius) {
  console.log(this);

  this.radius = radius;
  this.getDiameter = function () {
    return 2 * getDiameter();
  };
  return 100;
}

const circle = new Circle(1);
console.log(circle); // Circle{radius:1, getDiameter: f}
```

ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ëª…ì‹œì ìœ¼ë¡œ `this`ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ê°’ì„ ë°˜í™˜í•˜ëŠ” ê²ƒì€ ìƒì„±ì í•¨ìˆ˜ì˜ ê¸°ë³¸ ë™ì‘ì„ í›¼ì†í•œë‹¤. <br>

<span style="color:#e74c3c">ë”°ë¼ì„œ ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ return ë¬¸ì„ **<u>ë°˜ë“œì‹œ ìƒëµí•´ì•¼ í•œë‹¤.</u>** </span>

<br>

<hr style="border: 1px dashed #ccc;">

## 3. ë‚´ë¶€ ë©”ì„œë“œ [[Call]], [[Construct]]

ì¼ë°˜ ê°ì²´ëŠ” í˜¸ì¶œí•  ìˆ˜ ì—†ì§€ë§Œ í•¨ìˆ˜ëŠ” í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ í•¨ìˆ˜ ê°ì²´ëŠ” ì¼ë°˜ ê°ì²´ê°€ ê°€ì§€ê³  ìˆëŠ” ë‚´ë¶€ ìŠ¬ë¡¯ê³¼ ë‚´ë¶€ ë©”ì„œë“œëŠ” ë¬¼ë¡ , <br>

<span style = "color: #82e0aa">í•¨ìˆ˜ë¡œì„œ ë™ì‘í•˜ê¸° ìœ„í•´ **<u>í•¨ìˆ˜ ê°ì²´ë§Œì„ ìœ„í•œ</u>** </span><br><span style = "color: #82e0aa">**[[Environment]], [[Formal Parameters]]** ë“±ì˜ **ë‚´ë¶€ ìŠ¬ë¡¯ê³¼**</span><br><span style = "color: #82e0aa">**[[Call]], [[Contruct]]** ê°™ì€ **ë‚´ë¶€ ë©”ì„œë“œ** ë¥¼ ì¶”ê°€ë¡œ ê°€ì§€ê³  ìˆë‹¤. </span><br>

<span style="color:#e74c3c">â…°) ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ ë˜ë©´ => **<u>í•¨ìˆ˜ ê°ì²´ì˜ ë‚´ë¶€ ë©”ì„œë“œ [[Call]]ì´ í˜¸ì¶œë˜ê³ </u>**</span> <br>

<span style="color:#3498db">â…±) `new`ì—°ì‚°ìì™€ í•¨ê»˜ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œë˜ë©´ => **<u>ë‚´ë¶€ ë©”ì„œë“œ [[Construct]] ê°€ í˜¸ì¶œëœë‹¤</u>**. </span><br>

{% include framework/shortcodes/figure.html src="/assets/images/gen/content/post_13/constructor.webp" title="constructor" caption="Jay Tak." alt="Photo of constructor" link="" target="" %}

<br>

ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ í•¨ìˆ˜ ì •ì˜ë¥¼ í‰ê°€í•˜ì—¬ í•¨ìˆ˜ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ í•¨ìˆ˜ ì •ì˜ ë°©ì‹ì— ë”°ë¼ í•¨ìˆ˜ë¥¼ constructorì™€ non-consctructorë¡œ êµ¬ë¶„í•œë‹¤.

```javascript
// ì¼ë°˜ í•¨ìˆ˜ ì •ì˜: (1) í•¨ìˆ˜ì„ ì–¸ë¬¸, (2) í•¨ìˆ˜í‘œí˜„ì‹, (3) í”„ë¡œí¼í‹°ì— í• ë‹¹ëœ ì¼ë°˜í•¨ìˆ˜
1;
function foo() {}
2;
const bar = (function () {})(3);
const baz = {
  x: function () {},
};

new foo();
new bar();
new baz.x();

// í™”ì‚´í‘œ í•¨ìˆ˜
const arrow = () => {};
new arrow(); // TypeError: arrow is not a consctructor

// ë©”ì„œë“œ ì •ì˜: Es6ì˜ ë©”ì„œë“œ ì¶•ì•½ í‘œí˜„ë§Œ ë©”ì„œë“œë¡œ ì¸ì •í•œë‹¤.
const obj = {
  x() {},
};
new obj.x(); // TypeError: obj.x is not a consctructor
```

<br>

<hr style="border: 1px dashed #ccc;">

## 4. new ì—°ì‚°ì

`new` ì—°ì‚°ìì™€ í•¨ê»˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ í•´ë‹¹ í•¨ìˆ˜ëŠ” ìƒì„±ì í•¨ìˆ˜ë¡œ ë™ì‘í•œë‹¤. ë‹¤ì‹œ ë§í•´, í•¨ìˆ˜ ê°ì²´ì˜ ë‚´ë¬´ ë©”ì„œë“œ [[Call]]ì´ í˜¸ì¶œë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ [[Construct]]ê°€ í˜¸ì¶œëœë‹¤. ë‹¨, `new` ì—°ì‚°ìë  í•¨ê»˜ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ëŠ” non-constructorê°€ ì•„ë‹Œ constructorì´ì–´ì•¼ í•œë‹¤.

```js
// (1) ìƒì„±ì í•¨ìˆ˜ë¡œì„œ ì •ì˜ë˜ì§€ ì•Šì€ í•¨ìˆ˜
function add(x, y) {
  return x + y;
}

// ìƒì„±ì í•¨ìˆ˜ë¡œì„œ ì •ì˜í•˜ì§€ ì•Šì€ í•¨ìˆ˜ë¥¼ new ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œ
let inst = new add();

// í•¨ìˆ˜ê°€ ê°ì²´ë¥¼ ë°˜í™˜í•˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ë°˜í™˜ë¬¸ì´ ë¬´ì‹œëœë‹¤. ë”°ë¼ì„œ ë¹ˆ ê°ì²´ê°€ ìƒì„±ë˜ì–´ ë°˜í™˜ëœë‹¤.
console.log(inst); {}

// (2) ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” ì¼ë°˜ í•¨ìˆ˜
function createUser(name, role) {
  return {name, role};
}

// ì¼ë°˜ í•¨ìˆ˜ë¥¼ new ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œ
inst = new createUser('Lee', 'admin');

// createUserëŠ” ìƒì„±ì í•¨ìˆ˜ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤. ë‹¨ì§€ ìƒì„±í•œ ê°ì²´ë§Œ ë°˜í™˜
console.log(inst); // {name: 'Lee', role: 'admin'}

ìƒì„±ì í•¨ìˆ˜ë¡œ ì‘ë™í•˜ë„ë¡ ë³€ê²½í•˜ë ¤ë©´!
=> return ë¬¸ì„ ì œê±°í•˜ê³ , thisë¥¼ ì‚¬ìš©í•´ ì†ì„±ì„ ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤:

function createUser(name, role) {
    this.name = name;
    this.role = role;
}

const inst = new createUser("Lee", "admin");
console.log(inst); // { name: 'Lee', role: 'admin' }

```

<br><br>

#### <span style="color:grey">reference: ëª¨ë˜ìë°”ìŠ¤í¬ë¦½íŠ¸ Deep Dive 17ì¥. ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ ê°ì²´ ìƒì„±</span>
