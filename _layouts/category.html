---
layout: default
body_classes: page-category page-blog
---

<div class="section">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 col-md-12">
        {% include framework/heading.html
          title=page.title
          description=page.description
          image=page.image
          badge="category"
        %}
      </div>
    </div>
    
    <!-- Category Filter -->
    <div class="row justify-content-center">
      <div class="col-12 col-md-12">
        <div class="category-filter">
          <a href="{{ '/blog/' | relative_url }}" class="category-btn">All</a>
          <a href="{{ '/category/react/' | relative_url }}" class="category-btn{% if page.title == 'React' %} active{% endif %}">React</a>
          <a href="{{ '/category/javascript/' | relative_url }}" class="category-btn{% if page.title == 'Javascript' %} active{% endif %}">Javascript</a>
          <a href="{{ '/category/algorithm/' | relative_url }}" class="category-btn{% if page.title == 'Algorithm' %} active{% endif %}">Algorithm</a>
          <a href="{{ '/category/typescript/' | relative_url }}" class="category-btn{% if page.title == 'Typescript' %} active{% endif %}">Typescript</a>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="section pt-0">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 col-md-12">
        <div class="row" id="posts-container">
          {% assign category = page.title %}
          {% for post in site.categories[category] %}
            <div class="col-12 col-md-12 col-lg-10 mb-6 post-item">
              {% include theme/cards/card-post.html
                date=post.date
                title=post.title
                description=post.description 
                url=post.url
                thumbnail=post.thumbnail
                style="row"
              %}
            </div>
          {% endfor %}
        </div>
      </div>
    </div>

    <!-- Pagination -->
    <div class="row justify-content-center mt-4">
      <div class="col-auto">
        <div class="pagination" id="category-pagination">
          <ul></ul>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
(function() {
  const postsPerPage = 6;
  const posts = document.querySelectorAll('.post-item');
  const totalPosts = posts.length;
  const totalPages = Math.ceil(totalPosts / postsPerPage);
  const paginationUl = document.querySelector('#category-pagination ul');
  
  if (totalPages <= 1) {
    document.getElementById('category-pagination').style.display = 'none';
    return;
  }

  function showPage(page) {
    posts.forEach((post, index) => {
      const start = (page - 1) * postsPerPage;
      const end = start + postsPerPage;
      post.style.display = (index >= start && index < end) ? '' : 'none';
    });
    
    updatePagination(page);
  }

  function updatePagination(currentPage) {
    let html = '';
    
    // Previous button
    if (currentPage > 1) {
      html += `<li><a href="#" data-page="${currentPage - 1}"><i class="fa fa-chevron-left"></i></a></li>`;
    }
    
    // Page numbers
    for (let i = 1; i <= totalPages; i++) {
      if (i === currentPage) {
        html += `<li class="active"><span>${i}</span></li>`;
      } else {
        html += `<li><a href="#" data-page="${i}">${i}</a></li>`;
      }
    }
    
    // Next button
    if (currentPage < totalPages) {
      html += `<li><a href="#" data-page="${currentPage + 1}"><i class="fa fa-chevron-right"></i></a></li>`;
    }
    
    paginationUl.innerHTML = html;
    
    // Add click handlers
    paginationUl.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        showPage(parseInt(this.dataset.page));
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    });
  }

  // Initialize
  showPage(1);
})();
</script>
